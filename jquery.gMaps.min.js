/*!
* gMaps
* http://gmaps.monkeecreate.com
*
* Interactive & Static Google Maps jQuery Plugin
*
* Developed by John Hoover <http://defvayne23.com>
* Another project from monkeeCreate <http://monkeecreate.com>
*
* Version 3.1.0- Last updated: April 17, 2014
*/
!function(e){jQuery.fn.gMap=function(o){var t,i,n,s="http://maps.google.com/maps/api/staticmap?",r=function(e,o){geocoder.geocode({address:e},function(e,i){i===google.maps.GeocoderStatus.OK?o(e):i===google.maps.GeocoderStatus.ERROR?a.error(t,"There was a problem contacting the Google servers."):i===google.maps.GeocoderStatus.INVALID_REQUEST?a.error(t,"This GeocoderRequest was invalid."):i===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?a.error(t,"The webpage has gone over the requests limit in too short a period of time."):i===google.maps.GeocoderStatus.REQUEST_DENIED?a.error(t,"The webpage is not allowed to use the geocoder."):i===google.maps.GeocoderStatus.UNKNOWN_ERROR?a.error(t,"A geocoding request could not be processed due to a server error. The request may succeed if you try again."):i===google.maps.GeocoderStatus.ZERO_RESULTS&&a.error(t,"No results were found for given address.")})},a=e.extend(!0,{map:"interactive",center:"",visible:[],zoom:1,scroll:!0,type:"roadmap",style:{width:"auto",height:"auto",cursor:""},markers:[],polylines:[],polygons:[],circles:[],overlay:[],click:function(){},error:function(){},bounds:!1,streetview:!0,format:null,mobile:"false",sensor:"false",title:"Google Maps",scale:null},o),l={position:"",label:"",content:"",icon:{type:"simple",size:"mid",color:"red",image:"",origin:[],anchor:[]},shadow:{type:"simple",size:"mid",color:"red",image:"",origin:[],anchor:[]},draggable:!1,dragend:function(){}},c={points:[],stroke:{color:"ff0000",opacity:1,weight:1}},g={points:[],stroke:{color:"ff0000",opacity:1,weight:1},fill:{color:"ff0000",opacity:1}},p={center:[],radius:1,stroke:{color:"ff0000",opacity:1,weight:1},fill:{color:"ff0000",opacity:1}};return this.each(function(){t=this,"auto"===a.style.width?a.style.width=e(t).width():e(t).width(a.style.width),"auto"===a.style.height?a.style.height=e(t).height():e(t).height(a.style.height),"static"===a.map?(s+="size="+a.style.width+"x"+a.style.height,null!==a.format&&(s+="&format="+a.format),null!==a.scale&&(s+="&scale="+a.scale),""!==a.center&&(s+="&center="+escape(a.center)),""!==a.zoom&&(s+="&zoom="+a.zoom),urlVisible=[],e(a.visible).each(function(e,o){urlVisible.push(o instanceof Array?o[0]+","+o[1]:escape(o.address))}),urlVisible.length>0&&(s+="&visible="+urlVisible.join("|")),s+="&type="+a.type,s+="&mobile="+a.mobile,s+="&sensor="+a.sensor):(map_options={mapTypeId:a.type,streetViewControl:a.streetview,scrollwheel:a.scroll},""!==a.style.cursor&&i.setOptions({draggableCursor:a.style.cursor}),i=new google.maps.Map(t,map_options),geocoder=new google.maps.Geocoder,infoWindow=new google.maps.InfoWindow,n=new google.maps.LatLngBounds(0,0),""!==a.zoom&&i.setZoom(a.zoom),a.center instanceof Array?i.setCenter(new google.maps.LatLng(a.center[0],a.center[1])):""!==a.center&&r(a.center,function(e){i.setCenter(e[0].geometry.location),n.extend(e[0].geometry.location),a.bounds===!0&&i.fitBounds(n)}),google.maps.event.addListener(i,"click",a.click),google.maps.event.addListener(i,"click",function(){infoWindow.close()})),e(a.markers).each(function(o,t){var c=e.extend(!0,{},l,t),g="";"static"===a.map?(g+="size:"+c.icon.size,g+="|color:"+c.icon.color,""!==c.label&&(g+="|label:"+c.label),""!==c.icon.image&&(g+="|icon:"+escape(c.icon.image)),g+=c.position instanceof Array?"|"+c.position[0]+","+c.position[1]:"|"+escape(c.position),s+="&markers="+g):(g=new google.maps.Marker({map:i,title:c.label}),c.position instanceof Array?(point=new google.maps.LatLng(c.position[0],c.position[1]),g.setPosition(point),n.extend(point)):r(c.position,function(e){g.setPosition(e[0].geometry.location),n.extend(e[0].geometry.location),a.bounds===!0&&i.fitBounds(n)}),""!==c.icon.image&&g.setIcon("complex"===c.icon.type?new google.maps.MarkerImage(c.icon.image,new google.maps.Size(c.icon.size[0],c.icon.size[1]),new google.maps.Point(c.icon.origin[0],c.icon.origin[1]),new google.maps.Point(c.icon.anchor[0],c.icon.anchor[1])):c.icon.image),""!==c.shadow.image&&g.setShadow(new google.maps.MarkerImage(c.shadow.image,new google.maps.Size(c.shadow.size[0],c.shadow.size[1]),new google.maps.Point(c.shadow.origin[0],c.shadow.origin[1]),new google.maps.Point(c.shadow.anchor[0],c.shadow.anchor[1]))),void 0!==c.click&&google.maps.event.addListener(g,"click",c.click),c.draggable===!0&&(g.setDraggable(!0),google.maps.event.addListener(g,"dragend",c.dragend)),google.maps.event.addListener(g,"click",function(){infoWindow.close(),infoWindow.setOptions({content:c.content}),""!==c.content&&infoWindow.open(i,g)}))}),e(a.polylines).each(function(o,t){var r=e.extend(!0,{},c,t),l="";if("static"===a.map){strokeHex=Math.floor(255*r.stroke.opacity).toString(16),1===strokeHex.length&&(strokeHex=0+strokeHex),l+="color:0x"+r.stroke.color+strokeHex,l+="|weight:"+r.stroke.weight;var g=new google.maps.MVCArray;e(r.points).each(function(e,o){g.push(new google.maps.LatLng(o[0],o[1]))}),l+="|enc:"+google.maps.geometry.encoding.encodePath(g),s+="&path="+l}else{var p=new google.maps.MVCArray;l=new google.maps.Polyline({map:i,path:p,strokeColor:"#"+r.stroke.color,strokeOpacity:r.stroke.opacity,strokeWeight:r.stroke.weight}),e(r.points).each(function(e,o){path=l.getPath(),o=new google.maps.LatLng(o[0],o[1]),path.insertAt(p,o),n.extend(o)})}}),e(a.polygons).each(function(o,t){var r=e.extend(!0,{},g,t),l="";if("static"===a.map){strokeHex=Math.floor(255*r.stroke.opacity).toString(16),1===strokeHex.length&&(strokeHex=0+strokeHex),fillHex=Math.floor(255*r.fill.opacity).toString(16),1===fillHex.length&&(fillHex=0+fillHex),l+="color:0x"+r.stroke.color+strokeHex,l+="|weight:"+r.stroke.weight,l+="|fillcolor:0x"+r.fill.color+fillHex;var c=new google.maps.MVCArray;e(r.points).each(function(e,o){c.push(new google.maps.LatLng(o[0],o[1])),r.points.length-1===e&&c.push(new google.maps.LatLng(r.points[0][0],r.points[0][1]))}),l+="|enc:"+google.maps.geometry.encoding.encodePath(c),s+="&path="+l}else{var p=new google.maps.MVCArray;l=new google.maps.Polygon({map:i,path:p,strokeColor:"#"+r.stroke.color,strokeOpacity:r.stroke.opacity,strokeWeight:r.stroke.weight,fillColor:"#"+r.fill.color,fillOpacity:r.fill.opacity}),e(r.points).each(function(e,o){path=l.getPath(),o=new google.maps.LatLng(o[0],o[1]),path.insertAt(p,o),n.extend(o)})}}),e(a.circles.reverse()).each(function(o,t){var s=e.extend(!0,{},p,t),r="";"static"===a.map||(r=new google.maps.Circle({map:i,center:new google.maps.LatLng(s.center[0],s.center[1]),radius:s.radius,strokeColor:"#"+s.stroke.color,strokeOpacity:s.stroke.opacity,strokeWeight:s.stroke.weight,fillColor:"#"+s.fill.color,fillOpacity:s.fill.opacity}),n.union(r.getBounds()))}),"static"===a.map?s.length>2048?a.error(t,"URL for image exceeded max length of 2048 characters."):e(t).html('<img src="'+s+'" width="'+a.style.width+'" height="'+a.style.height+'" alt="'+a.title+'">'):a.bounds===!0&&i.fitBounds(n)}),this}}(jQuery);