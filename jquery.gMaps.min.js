/*!
* gMaps
* http://gmaps.monkeecreate.com
*
* Interactive & Static Google Maps jQuery Plugin
*
* Developed by John Hoover <http://defvayne23.com>
* Another project from monkeeCreate <http://monkeecreate.com>
*
* Version 3.0.0- Last updated: April 8, 2014
*/
(function(a){jQuery.fn.gMap=function(b){var i,d,g,k,c;var e="http://maps.google.com/maps/api/staticmap?";var m=a.extend({map:"interactive",center:"",visible:[],zoom:1,scroll:true,cursor:"",type:"roadmap",style:{width:"auto",height:"auto"},markers:[],polylines:[],polygons:[],circles:[],overlay:null,click:function(){},error:function(n){},bounds:false,streetview:true,format:null,mobile:"false",sensor:"false",title:"Google Maps",scale:null},b);var h={address:"",latlng:[],label:"",content:"",icon:{type:"simple",size:"mid",color:"red",image:"",origin:[],anchor:[]},shadow:{type:"simple",size:"mid",color:"red",image:"",origin:[],anchor:[]},draggable:false,dragend:function(){}};var f={points:[],stroke:{color:"ff0000",opacity:1,weight:1}};var l={points:[],stroke:{color:"ff0000",opacity:1,weight:1},fill:{color:"ff0000",opacity:1}};var j={center:[],radius:1,stroke:{color:"ff0000",opacity:1,weight:1},fill:{color:"ff0000",opacity:1}};this.each(function(){var n=this;if(m.style.width=="auto"){m.style.width=a(n).width()}else{a(n).width(m.style.width)}if(m.style.height=="auto"){m.style.height=a(n).height()}else{a(n).height(m.style.height)}if(m.map=="static"){e+="size="+m.style.width+"x"+m.style.height;if(m.format!==null){e+="&format="+m.format}if(m.scale!==null){e+="&scale="+m.scale}if(m.center!==""){e+="&center="+escape(m.center)}if(m.zoom!==""){e+="&zoom="+m.zoom}urlVisible=[];a(m.visible).each(function(p,o){if(o instanceof Array){urlVisible.push(o[0]+","+o[1])}else{urlVisible.push(escape(o.address))}});if(urlVisible.length>0){e+="&visible="+urlVisible.join("|")}e+="&type="+m.type;e+="&mobile="+m.mobile;e+="&sensor="+m.sensor}else{d=new google.maps.Map(n,{mapTypeId:m.type,streetViewControl:m.streetview,scrollwheel:m.scroll});geocoder=new google.maps.Geocoder();infoWindow=new google.maps.InfoWindow();c=new google.maps.LatLngBounds(0,0);if(m.zoom!==""){d.setZoom(m.zoom)}if(m.center instanceof Array){d.setCenter(new google.maps.LatLng(m.center[0],m.center[1]))}else{if(m.center!==""){geocoder.geocode({address:m.center},function(p,o){if(o==google.maps.GeocoderStatus.OK){d.setCenter(p[0].geometry.location);c.extend(p[0].geometry.location);if(m.bounds===true){d.fitBounds(c)}}else{m.error(n,"Geocode was not successful for the following reason: "+o)}})}}if(m.cursor!==""){d.setOptions({draggableCursor:m.cursor})}google.maps.event.addListener(d,"click",m.click);google.maps.event.addListener(d,"click",function(o){infoWindow.close()})}a(m.markers).each(function(r,p){var q=a.extend({},h,p);var o="";if(m.map=="static"){o+="size:"+q.icon.size;o+="|color:"+q.icon.color;if(q.label!==""){o+="|label:"+q.label}if(q.icon.image!==""){o+="|icon:"+escape(q.icon.image)}if(q.address!==""){o+="|"+escape(q.address)}else{o+="|"+q.latlng[0]+","+q.latlng[1]}e+="&markers="+o}else{o=new google.maps.Marker({map:d,title:q.label});if(q.latlng.length>0){point=new google.maps.LatLng(q.latlng[0],q.latlng[1]);o.setPosition(point);c.extend(point)}else{geocoder.geocode({address:q.address},function(t,s){if(s==google.maps.GeocoderStatus.OK){o.setPosition(t[0].geometry.location);c.extend(t[0].geometry.location);if(m.bounds===true){d.fitBounds(c)}}else{m.error(n,"Geocode was not successful for the following reason: "+s)}})}if(q.icon.image!==""){if(q.icon.type=="complex"){o.setIcon(new google.maps.MarkerImage(q.icon.image,new google.maps.Size(q.icon.size[0],q.icon.size[1]),new google.maps.Point(q.icon.origin[0],q.icon.origin[1]),new google.maps.Point(q.icon.anchor[0],q.icon.anchor[1])))}else{o.setIcon(q.icon.image)}}else{}if(q.shadow.image!==""){o.setShadow(new google.maps.MarkerImage(q.shadow.image,new google.maps.Size(q.shadow.size[0],q.shadow.size[1]),new google.maps.Point(q.shadow.origin[0],q.shadow.origin[1]),new google.maps.Point(q.shadow.anchor[0],q.shadow.anchor[1])))}if(q.click!==undefined){google.maps.event.addListener(o,"click",q.click)}if(q.draggable===true){o.setDraggable(true);google.maps.event.addListener(o,"dragend",q.dragend)}google.maps.event.addListener(o,"click",function(){infoWindow.close();infoWindow.setOptions({content:q.content});if(q.content!==""){infoWindow.open(d,o)}})}});a(m.polylines).each(function(r,s){var q=a.extend({},f,s);var p="";if(m.map=="static"){strokeHex=Math.floor(q.stroke.opacity*255).toString(16);if(strokeHex.length==1){strokeHex=0+strokeHex}p+="color:0x"+q.stroke.color+strokeHex;p+="|weight:"+q.stroke.weight;a(q.points).each(function(u,t){p+="|"+t[0]+","+t[1]});e+="&path="+p}else{var o=new google.maps.MVCArray();p=new google.maps.Polyline({map:d,path:o,strokeColor:"#"+q.stroke.color,strokeOpacity:q.stroke.opacity,strokeWeight:q.stroke.weight});a(q.points).each(function(u,t){path=p.getPath();t=new google.maps.LatLng(t[0],t[1]);path.insertAt(o,t);c.extend(t)})}});a(m.polygons).each(function(s,p){var q=a.extend({},l,p);var r="";if(m.map=="static"){strokeHex=Math.floor(q.stroke.opacity*255).toString(16);if(strokeHex.length==1){strokeHex=0+strokeHex}fillHex=Math.floor(q.fill.opacity*255).toString(16);if(fillHex.length==1){fillHex=0+fillHex}r+="color:0x"+q.stroke.color+strokeHex;r+="|weight:"+q.stroke.weight;r+="|fillcolor:0x"+q.fill.color+fillHex;a(q.points).each(function(u,t){r+="|"+t[0]+","+t[1];if(q.points.length-1==u){r+="|"+q.points[0][0]+","+q.points[0][1]}});e+="&path="+r}else{var o=new google.maps.MVCArray();r=new google.maps.Polygon({map:d,path:o,strokeColor:"#"+q.stroke.color,strokeOpacity:q.stroke.opacity,strokeWeight:q.stroke.weight,fillColor:"#"+q.fill.color,fillOpacity:q.fill.opacity});a(q.points).each(function(u,t){path=r.getPath();t=new google.maps.LatLng(t[0],t[1]);path.insertAt(o,t);c.extend(t)})}});a(m.circles.reverse()).each(function(q,o){var p=a.extend({},j,o);if(m.map=="static"){}else{var r=new google.maps.Circle({map:d,center:new google.maps.LatLng(p.center[0],p.center[1]),radius:p.radius,strokeColor:"#"+p.stroke.color,strokeOpacity:p.stroke.opacity,strokeWeight:p.stroke.weight,fillColor:"#"+p.fill.color,fillOpacity:p.fill.opacity});circle_bounds=r.getBounds();new google.maps.GroundOverlay(m.overlay+"/"+p.distance+".png",new google.maps.LatLngBounds(circle_bounds.getSouthWest(),circle_bounds.getNorthEast()),{map:d});c.union(r.getBounds())}});if(m.map=="static"){if(e.length>2048){m.error(n,"URL for image exceeded max length of 2048 characters.")}else{a(n).html('<img src="'+e+'" width="'+m.style.width+'" height="'+m.style.height+'" alt="'+m.title+'">')}}else{if(m.bounds===true){d.fitBounds(c)}}});return this}})(jQuery);
