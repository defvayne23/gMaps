/*!
* gMaps
* http://gmaps.monkeecreate.com
*
* Interactive & Static Google Maps jQuery Plugin
*
* Developed by John Hoover <http://defvayne23.com>
* Another project from monkeeCreate <http://monkeecreate.com>
*
* Version 3.0.0- Last updated: April 8, 2014
*/
!function(e){jQuery.fn.gMap=function(o){var t="http://maps.google.com/maps/api/staticmap?",o=e.extend({map:"interactive",center:"",visible:[],zoom:1,scroll:!0,cursor:"",type:"roadmap",style:{width:"auto",height:"auto"},markers:[],polylines:[],polygons:[],circles:[],overlay:null,click:function(){},error:function(){},bounds:!1,streetview:!0,format:null,mobile:"false",sensor:"false",title:"Google Maps",scale:null},o),i={address:"",latlng:[],label:"",content:"",icon:{type:"simple",size:"mid",color:"red",image:"",origin:[],anchor:[]},shadow:{type:"simple",size:"mid",color:"red",image:"",origin:[],anchor:[]},draggable:!1,dragend:function(){}},s={points:[],stroke:{color:"ff0000",opacity:1,weight:1}},a={points:[],stroke:{color:"ff0000",opacity:1,weight:1},fill:{color:"ff0000",opacity:1}},n={center:[],radius:1,stroke:{color:"ff0000",opacity:1,weight:1},fill:{color:"ff0000",opacity:1}};return this.each(function(){var l=this;if("auto"==o.style.width?o.style.width=e(l).width():e(l).width(o.style.width),"auto"==o.style.height?o.style.height=e(l).height():e(l).height(o.style.height),"static"==o.map){var r=t;r+="size="+o.style.width+"x"+o.style.height,null!==o.format&&(r+="&format="+o.format),null!=o.scale&&(r+="&scale="+o.scale),""!=o.center&&(r+="&center="+escape(o.center)),""!=o.zoom&&(r+="&zoom="+o.zoom),urlVisible=[],e(o.visible).each(function(e,o){urlVisible.push(o instanceof Array?o[0]+","+o[1]:escape(o.address))}),urlVisible.length>0&&(r+="&visible="+urlVisible.join("|")),r+="&type="+o.type,r+="&mobile="+o.mobile,r+="&sensor="+o.sensor}else{var c=new google.maps.Map(l,{mapTypeId:o.type,streetViewControl:o.streetview,scrollwheel:o.scroll}),g=new google.maps.Geocoder,p=new google.maps.InfoWindow,h=new google.maps.LatLngBounds(0,0);""!=o.zoom&&c.setZoom(o.zoom),o.center instanceof Array?c.setCenter(new google.maps.LatLng(o.center[0],o.center[1])):""!=o.center&&g.geocode({address:o.center},function(e,t){t==google.maps.GeocoderStatus.OK?(c.setCenter(e[0].geometry.location),h.extend(e[0].geometry.location),1==o.bounds&&c.fitBounds(h)):o.error(l,"Geocode was not successful for the following reason: "+t)}),""!=o.cursor&&c.setOptions({draggableCursor:o.cursor}),google.maps.event.addListener(c,"click",o.click),google.maps.event.addListener(c,"click",function(){p.close()})}e(o.markers).each(function(t,s){var s=e.extend({},i,s);if("static"==o.map){var a="";a+="size:"+s.icon.size,a+="|color:"+s.icon.color,""!=s.label&&(a+="|label:"+s.label),""!=s.icon.image&&(a+="|icon:"+escape(s.icon.image)),a+=""!=s.address?"|"+escape(s.address):"|"+s.latlng[0]+","+s.latlng[1],r+="&markers="+a}else{var a=new google.maps.Marker({map:c,title:s.label});s.latlng.length>0?(point=new google.maps.LatLng(s.latlng[0],s.latlng[1]),a.setPosition(point),h.extend(point)):g.geocode({address:s.address},function(e,t){t==google.maps.GeocoderStatus.OK?(a.setPosition(e[0].geometry.location),h.extend(e[0].geometry.location),1==o.bounds&&c.fitBounds(h)):o.error(l,"Geocode was not successful for the following reason: "+t)}),""!=s.icon.image&&a.setIcon("complex"==s.icon.type?new google.maps.MarkerImage(s.icon.image,new google.maps.Size(s.icon.size[0],s.icon.size[1]),new google.maps.Point(s.icon.origin[0],s.icon.origin[1]),new google.maps.Point(s.icon.anchor[0],s.icon.anchor[1])):s.icon.image),""!=s.shadow.image&&a.setShadow(new google.maps.MarkerImage(s.shadow.image,new google.maps.Size(s.shadow.size[0],s.shadow.size[1]),new google.maps.Point(s.shadow.origin[0],s.shadow.origin[1]),new google.maps.Point(s.shadow.anchor[0],s.shadow.anchor[1]))),void 0!=s.click&&google.maps.event.addListener(a,"click",s.click),1==s.draggable&&(a.setDraggable(!0),google.maps.event.addListener(a,"dragend",s.dragend)),google.maps.event.addListener(a,"click",function(){p.close(),p.setOptions({content:s.content}),""!=s.content&&p.open(c,a)})}}),e(o.polylines).each(function(t,i){var i=e.extend({},s,i);if("static"==o.map){var a="";strokeHex=Math.floor(255*i.stroke.opacity).toString(16),1==strokeHex.length&&(strokeHex=0+strokeHex),a+="color:0x"+i.stroke.color+strokeHex,a+="|weight:"+i.stroke.weight,e(i.points).each(function(e,o){a+="|"+o[0]+","+o[1]}),r+="&path="+a}else{var n=new google.maps.MVCArray,a=new google.maps.Polyline({map:c,path:n,strokeColor:"#"+i.stroke.color,strokeOpacity:i.stroke.opacity,strokeWeight:i.stroke.weight});e(i.points).each(function(e,o){path=a.getPath(),o=new google.maps.LatLng(o[0],o[1]),path.insertAt(n,o),h.extend(o)})}}),e(o.polygons).each(function(t,i){var i=e.extend({},a,i);if("static"==o.map){var s="";strokeHex=Math.floor(255*i.stroke.opacity).toString(16),1==strokeHex.length&&(strokeHex=0+strokeHex),fillHex=Math.floor(255*i.fill.opacity).toString(16),1==fillHex.length&&(fillHex=0+fillHex),s+="color:0x"+i.stroke.color+strokeHex,s+="|weight:"+i.stroke.weight,s+="|fillcolor:0x"+i.fill.color+fillHex,e(i.points).each(function(e,o){s+="|"+o[0]+","+o[1],i.points.length-1==e&&(s+="|"+i.points[0][0]+","+i.points[0][1])}),r+="&path="+s}else{var n=new google.maps.MVCArray,s=new google.maps.Polygon({map:c,path:n,strokeColor:"#"+i.stroke.color,strokeOpacity:i.stroke.opacity,strokeWeight:i.stroke.weight,fillColor:"#"+i.fill.color,fillOpacity:i.fill.opacity});e(i.points).each(function(e,o){path=s.getPath(),o=new google.maps.LatLng(o[0],o[1]),path.insertAt(n,o),h.extend(o)})}}),e(o.circles.reverse()).each(function(t,i){var i=e.extend({},n,i);if("static"==o.map);else{var s=new google.maps.Circle({map:c,center:new google.maps.LatLng(i.center[0],i.center[1]),radius:i.radius,strokeColor:"#"+i.stroke.color,strokeOpacity:i.stroke.opacity,strokeWeight:i.stroke.weight,fillColor:"#"+i.fill.color,fillOpacity:i.fill.opacity});circle_bounds=s.getBounds(),new google.maps.GroundOverlay(o.overlay+"/"+i.distance+".png",new google.maps.LatLngBounds(circle_bounds.getSouthWest(),circle_bounds.getNorthEast()),{map:c}),h.union(s.getBounds())}}),"static"==o.map?r.length>2048?o.error(l,"URL for image exceeded max length of 2048 characters."):e(l).html('<img src="'+r+'" width="'+o.style.width+'" height="'+o.style.height+'" alt="'+o.title+'">'):1==o.bounds&&c.fitBounds(h)}),this}}(jQuery);